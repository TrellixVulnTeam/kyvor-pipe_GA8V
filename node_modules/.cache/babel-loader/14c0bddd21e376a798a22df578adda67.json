{"ast":null,"code":"import _asyncToGenerator from\"/home/aravind/Desktop/DjangoProjects/djangoprojects/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/home/aravind/Desktop/DjangoProjects/djangoprojects/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/aravind/Desktop/DjangoProjects/djangoprojects/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/aravind/Desktop/DjangoProjects/djangoprojects/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/aravind/Desktop/DjangoProjects/djangoprojects/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from\"react\";import{Redirect}from\"react-router-dom\";import{connect}from\"react-redux\";import{login}from\"../../actions/auth\";import axios from\"axios\";import{Form}from\"react-bootstrap\";import Time from\"./Time\";import\"../../profile.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(_ref){var login=_ref.login,isAuthenticated=_ref.isAuthenticated;var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var email=formData.email,password=formData.password;var onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();login(email,password);};var continueWithGoogle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/auth/o/google-oauth2/?redirect_uri=\").concat(process.env.REACT_APP_API_URL,\"/google\"));case 3:res=_context.sent;window.location.replace(res.data.authorization_url);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function continueWithGoogle(){return _ref2.apply(this,arguments);};}();if(isAuthenticated){return/*#__PURE__*/_jsx(Redirect,{to:{pathname:\"/\"}});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center auth px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row w-100 mx-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-light text-center py-5 px-4 px-sm-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand-logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://media-exp1.licdn.com/dms/image/C510BAQFzmTl0wDAz9A/company-logo_200_200/0/1571652632244?e=2159024400&v=beta&t=eaKo0GEOitZiwddxEj0nHviaJUkB3IuudN4hfCTp4fE\",alt:\"logo\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Time,{})})})]}),/*#__PURE__*/_jsx(\"h4\",{children:\"Hello, welcome to Kyvor \"}),/*#__PURE__*/_jsx(\"h6\",{className:\"font-weight-light\",children:\"Sign in to continue.\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-lg btn-social-icon-text btn-google btn-block\",style:{backgroundColor:'#fec107'},onClick:continueWithGoogle,children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-google-plus\",style:{backgroundColor:'#fec107'}}),\"Google\"]})})]})})})})})});};var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.isAuthenticated};};export default connect(mapStateToProps,{login:login})(Login);","map":{"version":3,"sources":["/home/aravind/Desktop/DjangoProjects/djangoprojects/frontend/src/app/user-pages/Login.js"],"names":["React","useState","Redirect","connect","login","axios","Form","Time","Login","isAuthenticated","email","password","formData","setFormData","onChange","e","target","name","value","onSubmit","preventDefault","continueWithGoogle","get","process","env","REACT_APP_API_URL","res","window","location","replace","data","authorization_url","pathname","backgroundColor","mapStateToProps","state","auth"],"mappings":"8tBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,KAAT,KAAsB,oBAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,iBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAO,mBAAP,C,wFACA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAgC,IAA7BJ,CAAAA,KAA6B,MAA7BA,KAA6B,CAAtBK,eAAsB,MAAtBA,eAAsB,CAC5C,cAAgCR,QAAQ,CAAC,CACvCS,KAAK,CAAE,EADgC,CAEvCC,QAAQ,CAAE,EAF6B,CAAD,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAKA,GAAQH,CAAAA,KAAR,CAA4BE,QAA5B,CAAQF,KAAR,CAAeC,QAAf,CAA4BC,QAA5B,CAAeD,QAAf,CAEA,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,QACfF,CAAAA,WAAW,gCAAMD,QAAN,wBAAiBG,CAAC,CAACC,MAAF,CAASC,IAA1B,CAAiCF,CAAC,CAACC,MAAF,CAASE,KAA1C,GADI,EAAjB,CAGA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACJ,CAAD,CAAO,CACtBA,CAAC,CAACK,cAAF,GAEAhB,KAAK,CAACM,KAAD,CAAQC,QAAR,CAAL,CACD,CAJD,CAMA,GAAMU,CAAAA,kBAAkB,2FAAG,iLAELhB,CAAAA,KAAK,CAACiB,GAAN,WACbC,OAAO,CAACC,GAAR,CAAYC,iBADC,gDACuDF,OAAO,CAACC,GAAR,CAAYC,iBADnE,YAFK,QAEjBC,GAFiB,eAMvBC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwBH,GAAG,CAACI,IAAJ,CAASC,iBAAjC,EANuB,iJAAH,kBAAlBV,CAAAA,kBAAkB,2CAAxB,CAUA,GAAIZ,eAAJ,CAAqB,CAEnB,mBAAQ,KAAC,QAAD,EAAU,EAAE,CAAE,CACpBuB,QAAQ,CAAE,GADU,CAAd,EAAR,CAID,CAED,mBACE,kCACE,kCACA,YAAK,SAAS,CAAC,qCAAf,uBAEE,YAAK,SAAS,CAAC,gBAAf,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,aAAK,SAAS,CAAC,+CAAf,wBAEE,aAAK,SAAS,CAAC,YAAf,wBACE,YACE,GAAG,CAAC,mKADN,CAEE,GAAG,CAAC,MAFN,EADF,cAKE,kCACE,mCACE,KAAC,IAAD,IADF,EADF,EALF,GAFF,cAaE,gDAbF,cAcE,WAAI,SAAS,CAAC,mBAAd,kCAdF,cAeE,aAfF,cAwDE,YAAK,SAAS,CAAC,MAAf,uBACE,gBACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,sDAFZ,CAGE,KAAK,CAAE,CAACC,eAAe,CAAC,SAAjB,CAHT,CAIE,OAAO,CAAEZ,kBAJX,wBAME,UAAG,SAAS,CAAC,qBAAb,CAAqC,KAAK,CAAE,CAACY,eAAe,CAAC,SAAjB,CAA5C,EANF,YADF,EAxDF,GADF,EADF,EAFF,EADA,EADF,EADF,CAoFD,CAvHD,CAyHA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAClC1B,eAAe,CAAE0B,KAAK,CAACC,IAAN,CAAW3B,eADM,CAAZ,EAAxB,CAIA,cAAeN,CAAAA,OAAO,CAAC+B,eAAD,CAAkB,CAAE9B,KAAK,CAALA,KAAF,CAAlB,CAAP,CAAoCI,KAApC,CAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { login } from \"../../actions/auth\";\nimport axios from \"axios\";\nimport { Form } from \"react-bootstrap\";\nimport Time from \"./Time\";\nimport \"../../profile.css\";\nconst Login = ({ login, isAuthenticated }) => {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const { email, password } = formData;\n\n  const onChange = (e) =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    login(email, password);\n  };\n\n  const continueWithGoogle = async () => {\n    try {\n      const res = await axios.get(\n        `${process.env.REACT_APP_API_URL}/auth/o/google-oauth2/?redirect_uri=${process.env.REACT_APP_API_URL}/google`\n      );\n\n      window.location.replace(res.data.authorization_url);\n    } catch (err) {}\n  };\n\n  if (isAuthenticated) {\n    \n    return (<Redirect to={{\n      pathname: \"/\"\n     \n  }} />);\n  }\n\n  return (\n    <div>\n      <div>\n      <div className=\"d-flex align-items-center auth px-0\">\n        \n        <div className=\"row w-100 mx-0\">\n          <div className=\"col-lg-6 mx-auto\">\n            <div className=\"auth-form-light text-center py-5 px-4 px-sm-5\"> \n            \n              <div className=\"brand-logo\">\n                <img\n                  src=\"https://media-exp1.licdn.com/dms/image/C510BAQFzmTl0wDAz9A/company-logo_200_200/0/1571652632244?e=2159024400&v=beta&t=eaKo0GEOitZiwddxEj0nHviaJUkB3IuudN4hfCTp4fE\"\n                  alt=\"logo\"\n                />\n                <div>\n                  <span>\n                    <Time />\n                  </span>\n                </div>\n              </div>\n              <h4>Hello, welcome to Kyvor </h4>\n              <h6 className=\"font-weight-light\">Sign in to continue.</h6>\n              <br/>\n              {/* <Form onSubmit={(e) => onSubmit(e)}>\n                <Form.Group className=\"d-flex search-field\">\n                  <Form.Control\n                    type=\"email\"\n                    placeholder=\"Email...\"\n                    size=\"lg\"\n                    className=\"h-auto\"\n                    name=\"email\"\n                    value={email}\n                    onChange={(e) => onChange(e)}\n                    required\n                  />\n                </Form.Group>\n                <Form.Group className=\"d-flex search-field\">\n                  <Form.Control\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    size=\"lg\"\n                    className=\"h-auto\"\n                    name=\"password\"\n                    value={password}\n                    onChange={(e) => onChange(e)}\n                    minLength=\"6\"\n                    required\n                  />\n                </Form.Group>\n                <div className=\"mt-3\">\n                  <button\n                    className=\"btn btn-block btn-primary btn-sm font-weight-medium auth-form-btn\"\n                    type=\"submit\"\n                  >\n                    SIGN IN\n                  </button>\n                </div>\n              </Form>\n              <div className=\"or-container\">\n                <div className=\"line-separator\"></div>\n                <div className=\"or-label\">or</div>\n                <div className=\"line-separator\"></div>\n              </div> */}\n              <div className=\"mb-2\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-lg btn-social-icon-text btn-google btn-block\"\n                  style={{backgroundColor:'#fec107'}}\n                  onClick={continueWithGoogle}\n                >\n                  <i className=\"mdi mdi-google-plus\"   style={{backgroundColor:'#fec107'}} ></i>Google\n                </button>\n                {/* <button type=\"button\" className=\"btn btn-lg btn-google btn-block text-uppercase btn-outline\" onClick={continueWithGoogle}>\n                     <img src=\"https://img.icons8.com/color/16/000000/google-logo.png\"/> Signup Using Google\n                    </button> */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      </div>\n    \n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n});\n\nexport default connect(mapStateToProps, { login })(Login);\n"]},"metadata":{},"sourceType":"module"}