{"ast":null,"code":"var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**** stylesheet  ****/\n\n\nimport { StyleSheet } from './sheet.js';\nimport { createMarkupForStyles } from './CSSPropertyOperations';\nimport clean from './clean.js';\nexport var styleSheet = new StyleSheet(); // an isomorphic StyleSheet shim. hides all the nitty gritty. \n// /**************** LIFTOFF IN 3... 2... 1... ****************/\n\nstyleSheet.inject(); //eslint-disable-line indent\n// /****************      TO THE MOOOOOOON     ****************/\n// convenience function to toggle speedy\n\nexport function speedy(bool) {\n  return styleSheet.speedy(bool);\n} // plugins \n\nimport { PluginSet, prefixes, fallbacks, bug20fix } from './plugins'; // we include these by default \n\nexport var plugins = styleSheet.plugins = new PluginSet(fallbacks, bug20fix, prefixes);\nplugins.media = new PluginSet(); // neat! media, font-face, keyframes\n\nplugins.fontFace = new PluginSet();\nplugins.keyframes = new PluginSet(prefixes); // define some constants \n\nvar isBrowser = typeof window !== 'undefined';\n\nvar isDev = function (x) {\n  return x === 'development' || !x;\n}(process.env.NODE_ENV);\n\nvar isTest = process.env.NODE_ENV === 'test';\n/**** simulations  ****/\n// a flag to enable simulation meta tags on dom nodes \n// defaults to true in dev mode. recommend *not* to \n// toggle often. \n\nvar canSimulate = isDev; // we use these flags for issuing warnings when simulate is called \n// in prod / in incorrect order \n\nvar warned1 = false,\n    warned2 = false; // toggles simulation activity. shouldn't be needed in most cases \n\nexport function simulations() {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  canSimulate = !!bool;\n} // use this on dom nodes to 'simulate' pseudoclasses\n// <div {...hover({ color: 'red' })} {...simulate('hover', 'visited')}>...</div>\n// you can even send in some weird ones, as long as it's in simple format \n// and matches an existing rule on the element \n// eg simulate('nthChild2', ':hover:active') etc \n\nexport function simulate() {\n  for (var _len = arguments.length, pseudos = Array(_len), _key = 0; _key < _len; _key++) {\n    pseudos[_key] = arguments[_key];\n  }\n\n  pseudos = clean(pseudos);\n  if (!pseudos) return {};\n\n  if (!canSimulate) {\n    if (!warned1) {\n      console.warn('can\\'t simulate without once calling simulations(true)'); //eslint-disable-line no-console\n\n      warned1 = true;\n    }\n\n    if (!isDev && !isTest && !warned2) {\n      console.warn('don\\'t use simulation outside dev'); //eslint-disable-line no-console\n\n      warned2 = true;\n    }\n\n    return {};\n  }\n\n  return pseudos.reduce(function (o, p) {\n    return o['data-simulate-' + simple(p)] = '', o;\n  }, {});\n}\n/**** labels ****/\n// toggle for debug labels. \n// *shouldn't* have to mess with this manually\n\nvar hasLabels = isDev;\nexport function cssLabels(bool) {\n  hasLabels = !!bool;\n} // takes a string, converts to lowercase, strips out nonalphanumeric.\n\nfunction simple(str) {\n  return str.toLowerCase().replace(/[^a-z0-9]/g, '');\n} // flatten a nested array \n\n\nfunction flatten(inArr) {\n  var arr = [];\n\n  for (var i = 0; i < inArr.length; i++) {\n    if (Array.isArray(inArr[i])) arr = arr.concat(flatten(inArr[i]));else arr = arr.concat(inArr[i]);\n  }\n\n  return arr;\n} // hashes a string to something 'unique'\n// we use this to generate ids for styles\n\n\nimport hash from './hash';\n\nfunction hashify() {\n  for (var _len2 = arguments.length, objs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    objs[_key2] = arguments[_key2];\n  }\n\n  return hash(objs.map(function (x) {\n    return JSON.stringify(x);\n  }).join('')).toString(36);\n} // of shape { 'data-css-<id>': ''}\n\n\nexport function isLikeRule(rule) {\n  var keys = Object.keys(rule).filter(function (x) {\n    return x !== 'toString';\n  });\n\n  if (keys.length !== 1) {\n    return false;\n  }\n\n  return !!/data\\-css\\-([a-zA-Z0-9]+)/.exec(keys[0]);\n} // extracts id from a { 'data-css-<id>': ''} like object \n\nexport function idFor(rule) {\n  var keys = Object.keys(rule).filter(function (x) {\n    return x !== 'toString';\n  });\n  if (keys.length !== 1) throw new Error('not a rule');\n  var regex = /data\\-css\\-([a-zA-Z0-9]+)/;\n  var match = regex.exec(keys[0]);\n  if (!match) throw new Error('not a rule');\n  return match[1];\n} // a simple cache to store generated rules \n\nvar registered = styleSheet.registered = {};\n\nfunction register(spec) {\n  if (!registered[spec.id]) {\n    registered[spec.id] = spec;\n  }\n} // semi-deeply merge 2 'mega' style objects \n\n\nfunction deepMergeStyles(dest, src) {\n  Object.keys(src).forEach(function (expr) {\n    dest[expr] = dest[expr] || {};\n    Object.keys(src[expr]).forEach(function (type) {\n      dest[expr][type] = dest[expr][type] || {};\n      Object.assign(dest[expr][type], src[expr][type]);\n    });\n  });\n} //todo - prevent nested media queries\n\n\nfunction deconstruct(obj) {\n  var ret = [];\n  var plain = {},\n      hasPlain = false;\n  var hasPseudos = obj && find(Object.keys(obj), function (x) {\n    return x.charAt(0) === ':';\n  });\n  var hasMedias = obj && find(Object.keys(obj), function (x) {\n    return x.charAt(0) === '@';\n  }); // todo - check @media\n\n  var hasSelects = obj && find(Object.keys(obj), function (x) {\n    return x.indexOf('&') >= 0;\n  });\n\n  if (hasPseudos || hasMedias || hasSelects) {\n    Object.keys(obj).forEach(function (key) {\n      if (key.charAt(0) === ':') {\n        ret.push({\n          type: 'pseudo',\n          style: obj[key],\n          selector: key\n        });\n      } else if (key.charAt(0) === '@') {\n        ret.push({\n          type: 'media',\n          rules: deconstruct(obj[key]),\n          expr: key.substring(6)\n        });\n      } else if (key.indexOf('&') >= 0) {\n        ret.push({\n          type: 'select',\n          style: obj[key],\n          selector: key\n        });\n      } else {\n        hasPlain = true;\n        plain[key] = obj[key];\n      }\n    });\n    return hasPlain ? [plain].concat(ret) : ret;\n  }\n\n  return obj;\n} // extracts and composes styles from a rule into a 'mega' style\n// with sub styles keyed by media query + 'path'\n\n\nfunction extractStyles() {\n  for (var _len3 = arguments.length, rules = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    rules[_key3] = arguments[_key3];\n  }\n\n  rules = flatten(rules);\n  var exprs = {}; // converts {[data-css-<id>]} to the backing rule \n\n  rules = rules.map(function (x) {\n    return isLikeRule(x) ? registered[idFor(x)] : x;\n  }).map(function (x) {\n    return x.type === 'style' || !x.type ? deconstruct(x.style || x) : x;\n  });\n  rules = flatten(rules);\n  rules.forEach(function (rule) {\n    // avoid possible label. todo - cleaner \n    if (typeof rule === 'string') {\n      return;\n    }\n\n    switch (rule.type) {\n      case 'raw':\n        throw new Error('not implemented');\n\n      case 'font-face':\n        throw new Error('not implemented');\n\n      case 'keyframes':\n        throw new Error('not implemented');\n\n      case 'merge':\n        return deepMergeStyles(exprs, extractStyles(rule.rules));\n\n      case 'pseudo':\n        if (rule.selector === ':hover' && exprs._ && exprs._['%%%:active'] && !exprs._['%%%:hover']) {\n          console.warn(':active must come after :hover to work correctly'); //eslint-disable-line no-console\n        }\n\n        return deepMergeStyles(exprs, {\n          _: _defineProperty({}, '%%%' + rule.selector, rule.style)\n        });\n\n      case 'select':\n        return deepMergeStyles(exprs, {\n          _: _defineProperty({}, '^^^' + rule.selector, rule.style)\n        });\n\n      case 'parent':\n        return deepMergeStyles(exprs, {\n          _: _defineProperty({}, '***' + rule.selector, rule.style)\n        });\n\n      case 'style':\n        return deepMergeStyles(exprs, {\n          _: {\n            _: rule.style\n          }\n        });\n\n      case 'media':\n        return deepMergeStyles(exprs, _defineProperty({}, rule.expr, extractStyles(rule.rules)._));\n\n      default:\n        return deepMergeStyles(exprs, {\n          _: {\n            _: rule\n          }\n        });\n    }\n  });\n  return exprs;\n} // extract label from a rule / style \n\n\nfunction extractLabel(rule) {\n  if (isLikeRule(rule)) {\n    rule = registered[idFor(rule)];\n  }\n\n  return rule.label || '{:}';\n} // given an id / 'path', generate a css selector \n\n\nfunction selector(id, path) {\n  if (path === '_') return '.css-' + id + ',[data-css-' + id + ']';\n\n  if (path.indexOf('%%%') === 0) {\n    var x = '.css-' + id + path.slice(3) + ',[data-css-' + id + ']' + path.slice(3);\n    if (canSimulate) x += ',.css-' + id + '[data-simulate-' + simple(path) + '],[data-css-' + id + '][data-simulate-' + simple(path) + ']';\n    return x;\n  }\n\n  if (path.indexOf('***') === 0) {\n    return path.slice(3).split(',').map(function (x) {\n      return x + ' .css-' + id + ',' + x + ' [data-css-' + id + ']';\n    }).join(',');\n  }\n\n  if (path.indexOf('^^^') === 0) {\n    return path.slice(3).split(',').map(function (x) {\n      return x.indexOf('&') >= 0 ? [x.replace(/\\&/mg, '.css-' + id), x.replace(/\\&/mg, '[data-css-' + id + ']')].join(',') // todo - make sure each sub selector has an &\n      : '.css-' + id + x + ',[data-css-' + id + ']' + x;\n    }).join(',');\n  }\n}\n\nfunction toCSS(_ref4) {\n  var selector = _ref4.selector;\n  var style = _ref4.style;\n  var result = plugins.transform({\n    selector: selector,\n    style: style\n  });\n  return result.selector + '{' + createMarkupForStyles(result.style) + '}';\n}\n\nfunction ruleToAst(rule) {\n  var styles = extractStyles(rule);\n  return Object.keys(styles).reduce(function (o, expr) {\n    o[expr] = Object.keys(styles[expr]).map(function (s) {\n      return {\n        selector: selector(rule.id, s),\n        style: styles[expr][s]\n      };\n    });\n    return o;\n  }, {});\n}\n\nfunction ruleToCSS(spec) {\n  var css = [];\n  var ast = ruleToAst(spec); // plugins here \n\n  var _ = ast._;\n\n  var exprs = _objectWithoutProperties(ast, ['_']);\n\n  if (_) {\n    _.map(toCSS).forEach(function (str) {\n      return css.push(str);\n    });\n  }\n\n  Object.keys(exprs).forEach(function (expr) {\n    css.push('@media ' + expr + '{' + exprs[expr].map(toCSS).join('') + '}');\n  });\n  return css;\n} // this cache to track which rules have \n// been inserted into the stylesheet\n\n\nvar inserted = styleSheet.inserted = {}; // and helpers to insert rules into said styleSheet\n\nfunction insert(spec) {\n  if (!inserted[spec.id]) {\n    inserted[spec.id] = true;\n    ruleToCSS(spec).map(function (cssRule) {\n      return styleSheet.insert(cssRule);\n    });\n  }\n}\n\nexport function insertRule(css) {\n  var spec = {\n    id: hashify(css),\n    css: css,\n    type: 'raw',\n    label: '^'\n  };\n  register(spec);\n\n  if (!inserted[spec.id]) {\n    styleSheet.insert(spec.css);\n    inserted[spec.id] = true;\n  }\n}\nexport function insertGlobal(selector, style) {\n  return insertRule(selector + '{' + createMarkupForStyles(style) + '}');\n}\n\nfunction insertKeyframe(spec) {\n  if (!inserted[spec.id]) {\n    (function () {\n      var inner = Object.keys(spec.keyframes).map(function (kf) {\n        var result = plugins.keyframes.transform({\n          id: spec.id,\n          name: kf,\n          style: spec.keyframes[kf]\n        });\n        return result.name + '{' + createMarkupForStyles(result.style) + '}';\n      }).join('');\n      ['-webkit-', '-moz-', '-o-', ''].forEach(function (prefix) {\n        return styleSheet.insert('@' + prefix + 'keyframes ' + (spec.name + '_' + spec.id) + '{' + inner + '}');\n      });\n      inserted[spec.id] = true;\n    })();\n  }\n}\n\nfunction insertFontFace(spec) {\n  if (!inserted[spec.id]) {\n    styleSheet.insert('@font-face{' + createMarkupForStyles(spec.font) + '}');\n    inserted[spec.id] = true;\n  }\n} // rehydrate the insertion cache with ids sent from \n// renderStatic / renderStaticOptimized \n\n\nexport function rehydrate(ids) {\n  // load up ids\n  Object.assign(inserted, ids.reduce(function (o, i) {\n    return o[i] = true, o;\n  }, {})); // assume css loaded separately\n} // todo - perf\n\nvar ruleCache = {};\n\nfunction toRule(spec) {\n  register(spec);\n  insert(spec);\n\n  if (ruleCache[spec.id]) {\n    return ruleCache[spec.id];\n  }\n\n  var ret = _defineProperty({}, 'data-css-' + spec.id, hasLabels ? spec.label || '' : '');\n\n  Object.defineProperty(ret, 'toString', {\n    enumerable: false,\n    value: function value() {\n      return 'css-' + spec.id;\n    }\n  });\n  ruleCache[spec.id] = ret;\n  return ret;\n} // clears out the cache and empties the stylesheet\n// best for tests, though there might be some value for SSR. \n\n\nexport function flush() {\n  inserted = styleSheet.inserted = {};\n  registered = styleSheet.registered = {};\n  ruleCache = {};\n  styleSheet.flush();\n  styleSheet.inject();\n}\n\nfunction find(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    if (fn(arr[i]) === true) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function style(obj) {\n  obj = clean(obj);\n  return obj ? toRule({\n    id: hashify(obj),\n    type: 'style',\n    style: obj,\n    label: obj.label || '*'\n  }) : {};\n} // unique feature \n// when you need to define 'real' css (whatever that may be)\n// https://twitter.com/threepointone/status/756585907877273600\n// https://twitter.com/threepointone/status/756986938033254400\n\nexport function select(selector, obj) {\n  if ((typeof selector === 'undefined' ? 'undefined' : _typeof(selector)) === 'object') {\n    return style(selector);\n  }\n\n  obj = clean(obj);\n  return obj ? toRule({\n    id: hashify(selector, obj),\n    type: 'select',\n    selector: selector,\n    style: obj,\n    label: obj.label || '*'\n  }) : {};\n}\nexport var $ = select; // bringin' jquery back\n\nexport function parent(selector, obj) {\n  obj = clean(obj);\n  return obj ? toRule({\n    id: hashify(selector, obj),\n    type: 'parent',\n    selector: selector,\n    style: obj,\n    label: obj.label || '*'\n  }) : {};\n} // we define a function to 'merge' styles together.\n// backstory - because of a browser quirk, multiple styles are applied in the order they're \n// defined in the stylesheet, not in the order of application \n// in most cases, this won't case an issue UNTIL IT DOES \n// instead, use merge() to merge styles,\n// with latter styles gaining precedence over former ones \n\nexport function merge() {\n  for (var _len4 = arguments.length, rules = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    rules[_key4] = arguments[_key4];\n  }\n\n  rules = clean(rules);\n  return rules ? toRule({\n    id: hashify(extractStyles(rules)),\n    type: 'merge',\n    rules: rules,\n    label: '[' + (typeof rules[0] === 'string' ? rules[0] : rules.map(extractLabel).join(' + ')) + ']'\n  }) : {};\n}\nexport var compose = merge;\nexport function media(expr) {\n  for (var _len5 = arguments.length, rules = Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    rules[_key5 - 1] = arguments[_key5];\n  }\n\n  rules = clean(rules);\n  return rules ? toRule({\n    id: hashify(expr, extractStyles(rules)),\n    type: 'media',\n    rules: rules,\n    expr: expr,\n    label: '*mq(' + rules.map(extractLabel).join(' + ') + ')'\n  }) : {};\n}\nexport var presets = {\n  mobile: '(min-width: 400px)',\n  phablet: '(min-width: 550px)',\n  tablet: '(min-width: 750px)',\n  desktop: '(min-width: 1000px)',\n  hd: '(min-width: 1200px)'\n};\n/**** live media query labels ****/\n// simplest implementation -\n// cycle through the cache, and for every media query\n// find matching elements and update the label \n\nfunction updateMediaQueryLabels() {\n  Object.keys(registered).forEach(function (id) {\n    var expr = registered[id].expr;\n\n    if (expr && hasLabels && window.matchMedia) {\n      (function () {\n        var els = document.querySelectorAll('[data-css-' + id + ']');\n        var match = window.matchMedia(expr).matches ? '✓' : '✕';\n        var regex = /^(✓|✕|\\*)mq/;\n        [].concat(_toConsumableArray(els)).forEach(function (el) {\n          return el.setAttribute('data-css-' + id, el.getAttribute('data-css-' + id).replace(regex, match + 'mq'));\n        });\n      })();\n    }\n  });\n} // saves a reference to the loop we trigger \n\n\nvar interval = void 0;\nexport function trackMediaQueryLabels() {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var period = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2000;\n\n  if (bool) {\n    if (interval) {\n      console.warn('already tracking labels, call trackMediaQueryLabels(false) to stop'); // eslint-disable-line no-console \n\n      return;\n    }\n\n    interval = setInterval(function () {\n      return updateMediaQueryLabels();\n    }, period);\n  } else {\n    clearInterval(interval);\n    interval = null;\n  }\n} // in dev mode, start this up immediately \n\nif (isDev && isBrowser) {\n  trackMediaQueryLabels(true); // todo - make sure hot loading isn't broken\n  // todo - clearInterval on browser close  \n}\n\nexport function pseudo(selector, obj) {\n  obj = clean(obj);\n  return obj ? toRule({\n    id: hashify(selector, obj),\n    type: 'pseudo',\n    selector: selector,\n    style: obj,\n    label: obj.label || ':*'\n  }) : {};\n} // allllll the pseudoclasses\n\nexport function active(x) {\n  return pseudo(':active', x);\n}\nexport function any(x) {\n  return pseudo(':any', x);\n}\nexport function checked(x) {\n  return pseudo(':checked', x);\n}\nexport function disabled(x) {\n  return pseudo(':disabled', x);\n}\nexport function empty(x) {\n  return pseudo(':empty', x);\n}\nexport function enabled(x) {\n  return pseudo(':enabled', x);\n}\nexport function _default(x) {\n  return pseudo(':default', x); // note '_default' name  \n}\nexport function first(x) {\n  return pseudo(':first', x);\n}\nexport function firstChild(x) {\n  return pseudo(':first-child', x);\n}\nexport function firstOfType(x) {\n  return pseudo(':first-of-type', x);\n}\nexport function fullscreen(x) {\n  return pseudo(':fullscreen', x);\n}\nexport function focus(x) {\n  return pseudo(':focus', x);\n}\nexport function hover(x) {\n  return pseudo(':hover', x);\n}\nexport function indeterminate(x) {\n  return pseudo(':indeterminate', x);\n}\nexport function inRange(x) {\n  return pseudo(':in-range', x);\n}\nexport function invalid(x) {\n  return pseudo(':invalid', x);\n}\nexport function lastChild(x) {\n  return pseudo(':last-child', x);\n}\nexport function lastOfType(x) {\n  return pseudo(':last-of-type', x);\n}\nexport function left(x) {\n  return pseudo(':left', x);\n}\nexport function link(x) {\n  return pseudo(':link', x);\n}\nexport function onlyChild(x) {\n  return pseudo(':only-child', x);\n}\nexport function onlyOfType(x) {\n  return pseudo(':only-of-type', x);\n}\nexport function optional(x) {\n  return pseudo(':optional', x);\n}\nexport function outOfRange(x) {\n  return pseudo(':out-of-range', x);\n}\nexport function readOnly(x) {\n  return pseudo(':read-only', x);\n}\nexport function readWrite(x) {\n  return pseudo(':read-write', x);\n}\nexport function required(x) {\n  return pseudo(':required', x);\n}\nexport function right(x) {\n  return pseudo(':right', x);\n}\nexport function root(x) {\n  return pseudo(':root', x);\n}\nexport function scope(x) {\n  return pseudo(':scope', x);\n}\nexport function target(x) {\n  return pseudo(':target', x);\n}\nexport function valid(x) {\n  return pseudo(':valid', x);\n}\nexport function visited(x) {\n  return pseudo(':visited', x);\n} // parameterized pseudoclasses\n\nexport function dir(p, x) {\n  return pseudo(':dir(' + p + ')', x);\n}\nexport function lang(p, x) {\n  return pseudo(':lang(' + p + ')', x);\n}\nexport function not(p, x) {\n  // should this be a plugin?\n  var selector = p.split(',').map(function (x) {\n    return x.trim();\n  }).map(function (x) {\n    return ':not(' + x + ')';\n  });\n\n  if (selector.length === 1) {\n    return pseudo(':not(' + p + ')', x);\n  }\n\n  return select(selector.join(''), x);\n}\nexport function nthChild(p, x) {\n  return pseudo(':nth-child(' + p + ')', x);\n}\nexport function nthLastChild(p, x) {\n  return pseudo(':nth-last-child(' + p + ')', x);\n}\nexport function nthLastOfType(p, x) {\n  return pseudo(':nth-last-of-type(' + p + ')', x);\n}\nexport function nthOfType(p, x) {\n  return pseudo(':nth-of-type(' + p + ')', x);\n} // pseudoelements\n\nexport function after(x) {\n  return pseudo('::after', x);\n}\nexport function before(x) {\n  return pseudo('::before', x);\n}\nexport function firstLetter(x) {\n  return pseudo('::first-letter', x);\n}\nexport function firstLine(x) {\n  return pseudo('::first-line', x);\n}\nexport function selection(x) {\n  return pseudo('::selection', x);\n}\nexport function backdrop(x) {\n  return pseudo('::backdrop', x);\n}\nexport function placeholder(x) {\n  // https://github.com/threepointone/glamor/issues/14\n  return merge(pseudo('::placeholder', x), pseudo('::-webkit-input-placeholder', x), pseudo('::-moz-placeholder', x), pseudo('::-ms-input-placeholder', x));\n} // we can add keyframes in a similar manner, but still generating a unique name \n// for including in styles. this gives us modularity, but still a natural api \n\nexport function keyframes(name, kfs) {\n  if (!kfs) {\n    kfs = name, name = 'animation';\n  } // do not ignore empty keyframe definitions for now.\n\n\n  kfs = clean(kfs) || {};\n  var spec = {\n    id: hashify(name, kfs),\n    type: 'keyframes',\n    name: name,\n    keyframes: kfs\n  };\n  register(spec);\n  insertKeyframe(spec);\n  return name + '_' + spec.id;\n} // we don't go all out for fonts as much, giving a simple font loading strategy \n// use a fancier lib if you need moar power\n\nexport function fontFace(font) {\n  font = clean(font);\n  var spec = {\n    id: hashify(font),\n    type: 'font-face',\n    font: font\n  };\n  register(spec);\n  insertFontFace(spec);\n  return font.fontFamily;\n}\n/*** helpers for web components ***/\n// https://github.com/threepointone/glamor/issues/16\n\nexport function cssFor() {\n  for (var _len6 = arguments.length, rules = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    rules[_key6] = arguments[_key6];\n  }\n\n  rules = clean(rules);\n  return rules ? flatten(rules.map(function (r) {\n    return registered[idFor(r)];\n  }).map(ruleToCSS)).join('') : '';\n}\nexport function attribsFor() {\n  for (var _len7 = arguments.length, rules = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n    rules[_key7] = arguments[_key7];\n  }\n\n  rules = clean(rules);\n  var htmlAttributes = rules ? rules.map(function (rule) {\n    idFor(rule); // throwaway check for rule \n\n    var key = Object.keys(rule)[0],\n        value = rule[key];\n    return key + '=\"' + (value || '') + '\"';\n  }).join(' ') : '';\n  return htmlAttributes;\n}","map":{"version":3,"sources":["/home/aravind/Desktop/DjangoProjects/djangoprojects/frontend/node_modules/glamor/es6/index.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_objectWithoutProperties","keys","target","indexOf","Object","hasOwnProperty","call","_defineProperty","key","value","defineProperty","enumerable","configurable","writable","StyleSheet","createMarkupForStyles","clean","styleSheet","inject","speedy","bool","PluginSet","prefixes","fallbacks","bug20fix","plugins","media","fontFace","keyframes","isBrowser","window","isDev","x","process","env","NODE_ENV","isTest","canSimulate","warned1","warned2","simulations","arguments","undefined","simulate","_len","pseudos","_key","console","warn","reduce","o","p","simple","hasLabels","cssLabels","str","toLowerCase","replace","flatten","inArr","concat","hash","hashify","_len2","objs","_key2","map","JSON","stringify","join","toString","isLikeRule","rule","filter","exec","idFor","Error","regex","match","registered","register","spec","id","deepMergeStyles","dest","src","forEach","expr","type","assign","deconstruct","ret","plain","hasPlain","hasPseudos","find","charAt","hasMedias","hasSelects","push","style","selector","rules","substring","extractStyles","_len3","_key3","exprs","_","extractLabel","label","path","slice","split","toCSS","_ref4","result","transform","ruleToAst","styles","s","ruleToCSS","css","ast","inserted","insert","cssRule","insertRule","insertGlobal","insertKeyframe","inner","kf","name","prefix","insertFontFace","font","rehydrate","ids","ruleCache","toRule","flush","fn","select","$","parent","merge","_len4","_key4","compose","_len5","_key5","presets","mobile","phablet","tablet","desktop","hd","updateMediaQueryLabels","matchMedia","els","document","querySelectorAll","matches","el","setAttribute","getAttribute","interval","trackMediaQueryLabels","period","setInterval","clearInterval","pseudo","active","any","checked","disabled","empty","enabled","_default","first","firstChild","firstOfType","fullscreen","focus","hover","indeterminate","inRange","invalid","lastChild","lastOfType","left","link","onlyChild","onlyOfType","optional","outOfRange","readOnly","readWrite","required","right","root","scope","valid","visited","dir","lang","not","trim","nthChild","nthLastChild","nthLastOfType","nthOfType","after","before","firstLetter","firstLine","selection","backdrop","placeholder","kfs","fontFamily","cssFor","_len6","_key6","r","attribsFor","_len7","_key7","htmlAttributes"],"mappings":"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","sourcesContent":["var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**** stylesheet  ****/\n\nimport { StyleSheet } from './sheet.js';\nimport { createMarkupForStyles } from './CSSPropertyOperations';\nimport clean from './clean.js';\n\nexport var styleSheet = new StyleSheet();\n// an isomorphic StyleSheet shim. hides all the nitty gritty. \n\n// /**************** LIFTOFF IN 3... 2... 1... ****************/\nstyleSheet.inject(); //eslint-disable-line indent\n// /****************      TO THE MOOOOOOON     ****************/\n\n// convenience function to toggle speedy\nexport function speedy(bool) {\n  return styleSheet.speedy(bool);\n}\n\n// plugins \nimport { PluginSet, prefixes, fallbacks, bug20fix } from './plugins'; // we include these by default \nexport var plugins = styleSheet.plugins = new PluginSet(fallbacks, bug20fix, prefixes);\nplugins.media = new PluginSet(); // neat! media, font-face, keyframes\nplugins.fontFace = new PluginSet();\nplugins.keyframes = new PluginSet(prefixes);\n\n// define some constants \nvar isBrowser = typeof window !== 'undefined';\nvar isDev = function (x) {\n  return x === 'development' || !x;\n}(process.env.NODE_ENV);\nvar isTest = process.env.NODE_ENV === 'test';\n\n/**** simulations  ****/\n\n// a flag to enable simulation meta tags on dom nodes \n// defaults to true in dev mode. recommend *not* to \n// toggle often. \nvar canSimulate = isDev;\n\n// we use these flags for issuing warnings when simulate is called \n// in prod / in incorrect order \nvar warned1 = false,\n    warned2 = false;\n\n// toggles simulation activity. shouldn't be needed in most cases \nexport function simulations() {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  canSimulate = !!bool;\n}\n\n// use this on dom nodes to 'simulate' pseudoclasses\n// <div {...hover({ color: 'red' })} {...simulate('hover', 'visited')}>...</div>\n// you can even send in some weird ones, as long as it's in simple format \n// and matches an existing rule on the element \n// eg simulate('nthChild2', ':hover:active') etc \nexport function simulate() {\n  for (var _len = arguments.length, pseudos = Array(_len), _key = 0; _key < _len; _key++) {\n    pseudos[_key] = arguments[_key];\n  }\n\n  pseudos = clean(pseudos);\n  if (!pseudos) return {};\n  if (!canSimulate) {\n    if (!warned1) {\n      console.warn('can\\'t simulate without once calling simulations(true)'); //eslint-disable-line no-console\n      warned1 = true;\n    }\n    if (!isDev && !isTest && !warned2) {\n      console.warn('don\\'t use simulation outside dev'); //eslint-disable-line no-console\n      warned2 = true;\n    }\n    return {};\n  }\n  return pseudos.reduce(function (o, p) {\n    return o['data-simulate-' + simple(p)] = '', o;\n  }, {});\n}\n\n/**** labels ****/\n// toggle for debug labels. \n// *shouldn't* have to mess with this manually\nvar hasLabels = isDev;\n\nexport function cssLabels(bool) {\n  hasLabels = !!bool;\n}\n\n// takes a string, converts to lowercase, strips out nonalphanumeric.\nfunction simple(str) {\n  return str.toLowerCase().replace(/[^a-z0-9]/g, '');\n}\n\n// flatten a nested array \nfunction flatten(inArr) {\n  var arr = [];\n  for (var i = 0; i < inArr.length; i++) {\n    if (Array.isArray(inArr[i])) arr = arr.concat(flatten(inArr[i]));else arr = arr.concat(inArr[i]);\n  }\n  return arr;\n}\n\n// hashes a string to something 'unique'\n// we use this to generate ids for styles\nimport hash from './hash';\n\nfunction hashify() {\n  for (var _len2 = arguments.length, objs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    objs[_key2] = arguments[_key2];\n  }\n\n  return hash(objs.map(function (x) {\n    return JSON.stringify(x);\n  }).join('')).toString(36);\n}\n\n// of shape { 'data-css-<id>': ''}\nexport function isLikeRule(rule) {\n  var keys = Object.keys(rule).filter(function (x) {\n    return x !== 'toString';\n  });\n  if (keys.length !== 1) {\n    return false;\n  }\n  return !!/data\\-css\\-([a-zA-Z0-9]+)/.exec(keys[0]);\n}\n\n// extracts id from a { 'data-css-<id>': ''} like object \nexport function idFor(rule) {\n  var keys = Object.keys(rule).filter(function (x) {\n    return x !== 'toString';\n  });\n  if (keys.length !== 1) throw new Error('not a rule');\n  var regex = /data\\-css\\-([a-zA-Z0-9]+)/;\n  var match = regex.exec(keys[0]);\n  if (!match) throw new Error('not a rule');\n  return match[1];\n}\n\n// a simple cache to store generated rules \nvar registered = styleSheet.registered = {};\nfunction register(spec) {\n  if (!registered[spec.id]) {\n    registered[spec.id] = spec;\n  }\n}\n\n// semi-deeply merge 2 'mega' style objects \nfunction deepMergeStyles(dest, src) {\n  Object.keys(src).forEach(function (expr) {\n    dest[expr] = dest[expr] || {};\n    Object.keys(src[expr]).forEach(function (type) {\n      dest[expr][type] = dest[expr][type] || {};\n      Object.assign(dest[expr][type], src[expr][type]);\n    });\n  });\n}\n\n//todo - prevent nested media queries\nfunction deconstruct(obj) {\n  var ret = [];\n  var plain = {},\n      hasPlain = false;\n  var hasPseudos = obj && find(Object.keys(obj), function (x) {\n    return x.charAt(0) === ':';\n  });\n  var hasMedias = obj && find(Object.keys(obj), function (x) {\n    return x.charAt(0) === '@';\n  }); // todo - check @media\n  var hasSelects = obj && find(Object.keys(obj), function (x) {\n    return x.indexOf('&') >= 0;\n  });\n\n  if (hasPseudos || hasMedias || hasSelects) {\n\n    Object.keys(obj).forEach(function (key) {\n      if (key.charAt(0) === ':') {\n        ret.push({\n          type: 'pseudo',\n          style: obj[key],\n          selector: key\n        });\n      } else if (key.charAt(0) === '@') {\n        ret.push({\n          type: 'media',\n          rules: deconstruct(obj[key]),\n          expr: key.substring(6)\n        });\n      } else if (key.indexOf('&') >= 0) {\n        ret.push({\n          type: 'select',\n          style: obj[key],\n          selector: key\n        });\n      } else {\n        hasPlain = true;\n        plain[key] = obj[key];\n      }\n    });\n    return hasPlain ? [plain].concat(ret) : ret;\n  }\n  return obj;\n}\n\n// extracts and composes styles from a rule into a 'mega' style\n// with sub styles keyed by media query + 'path'\nfunction extractStyles() {\n  for (var _len3 = arguments.length, rules = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    rules[_key3] = arguments[_key3];\n  }\n\n  rules = flatten(rules);\n  var exprs = {};\n  // converts {[data-css-<id>]} to the backing rule \n  rules = rules.map(function (x) {\n    return isLikeRule(x) ? registered[idFor(x)] : x;\n  }).map(function (x) {\n    return x.type === 'style' || !x.type ? deconstruct(x.style || x) : x;\n  });\n  rules = flatten(rules);\n  rules.forEach(function (rule) {\n    // avoid possible label. todo - cleaner \n    if (typeof rule === 'string') {\n      return;\n    }\n    switch (rule.type) {\n      case 'raw':\n        throw new Error('not implemented');\n      case 'font-face':\n        throw new Error('not implemented');\n      case 'keyframes':\n        throw new Error('not implemented');\n\n      case 'merge':\n        return deepMergeStyles(exprs, extractStyles(rule.rules));\n\n      case 'pseudo':\n        if (rule.selector === ':hover' && exprs._ && exprs._['%%%:active'] && !exprs._['%%%:hover']) {\n          console.warn(':active must come after :hover to work correctly'); //eslint-disable-line no-console\n        }\n        return deepMergeStyles(exprs, { _: _defineProperty({}, '%%%' + rule.selector, rule.style) });\n      case 'select':\n        return deepMergeStyles(exprs, { _: _defineProperty({}, '^^^' + rule.selector, rule.style) });\n      case 'parent':\n        return deepMergeStyles(exprs, { _: _defineProperty({}, '***' + rule.selector, rule.style) });\n\n      case 'style':\n        return deepMergeStyles(exprs, { _: { _: rule.style } });\n\n      case 'media':\n        return deepMergeStyles(exprs, _defineProperty({}, rule.expr, extractStyles(rule.rules)._));\n\n      default:\n        return deepMergeStyles(exprs, { _: { _: rule } });\n    }\n  });\n  return exprs;\n}\n\n// extract label from a rule / style \nfunction extractLabel(rule) {\n  if (isLikeRule(rule)) {\n    rule = registered[idFor(rule)];\n  }\n  return rule.label || '{:}';\n}\n\n// given an id / 'path', generate a css selector \nfunction selector(id, path) {\n  if (path === '_') return '.css-' + id + ',[data-css-' + id + ']';\n\n  if (path.indexOf('%%%') === 0) {\n    var x = '.css-' + id + path.slice(3) + ',[data-css-' + id + ']' + path.slice(3);\n    if (canSimulate) x += ',.css-' + id + '[data-simulate-' + simple(path) + '],[data-css-' + id + '][data-simulate-' + simple(path) + ']';\n    return x;\n  }\n\n  if (path.indexOf('***') === 0) {\n    return path.slice(3).split(',').map(function (x) {\n      return x + ' .css-' + id + ',' + x + ' [data-css-' + id + ']';\n    }).join(',');\n  }\n  if (path.indexOf('^^^') === 0) {\n    return path.slice(3).split(',').map(function (x) {\n      return x.indexOf('&') >= 0 ? [x.replace(/\\&/mg, '.css-' + id), x.replace(/\\&/mg, '[data-css-' + id + ']')].join(',') // todo - make sure each sub selector has an &\n      : '.css-' + id + x + ',[data-css-' + id + ']' + x;\n    }).join(',');\n  }\n}\n\nfunction toCSS(_ref4) {\n  var selector = _ref4.selector;\n  var style = _ref4.style;\n\n  var result = plugins.transform({ selector: selector, style: style });\n  return result.selector + '{' + createMarkupForStyles(result.style) + '}';\n}\n\nfunction ruleToAst(rule) {\n  var styles = extractStyles(rule);\n  return Object.keys(styles).reduce(function (o, expr) {\n    o[expr] = Object.keys(styles[expr]).map(function (s) {\n      return { selector: selector(rule.id, s), style: styles[expr][s] };\n    });\n    return o;\n  }, {});\n}\n\nfunction ruleToCSS(spec) {\n  var css = [];\n  var ast = ruleToAst(spec);\n  // plugins here \n  var _ = ast._;\n\n  var exprs = _objectWithoutProperties(ast, ['_']);\n\n  if (_) {\n    _.map(toCSS).forEach(function (str) {\n      return css.push(str);\n    });\n  }\n  Object.keys(exprs).forEach(function (expr) {\n    css.push('@media ' + expr + '{' + exprs[expr].map(toCSS).join('') + '}');\n  });\n  return css;\n}\n\n// this cache to track which rules have \n// been inserted into the stylesheet\nvar inserted = styleSheet.inserted = {};\n\n// and helpers to insert rules into said styleSheet\nfunction insert(spec) {\n  if (!inserted[spec.id]) {\n    inserted[spec.id] = true;\n    ruleToCSS(spec).map(function (cssRule) {\n      return styleSheet.insert(cssRule);\n    });\n  }\n}\n\nexport function insertRule(css) {\n  var spec = {\n    id: hashify(css),\n    css: css,\n    type: 'raw',\n    label: '^'\n  };\n  register(spec);\n  if (!inserted[spec.id]) {\n    styleSheet.insert(spec.css);\n    inserted[spec.id] = true;\n  }\n}\n\nexport function insertGlobal(selector, style) {\n  return insertRule(selector + '{' + createMarkupForStyles(style) + '}');\n}\n\nfunction insertKeyframe(spec) {\n  if (!inserted[spec.id]) {\n    (function () {\n      var inner = Object.keys(spec.keyframes).map(function (kf) {\n        var result = plugins.keyframes.transform({ id: spec.id, name: kf, style: spec.keyframes[kf] });\n        return result.name + '{' + createMarkupForStyles(result.style) + '}';\n      }).join('');\n\n      ['-webkit-', '-moz-', '-o-', ''].forEach(function (prefix) {\n        return styleSheet.insert('@' + prefix + 'keyframes ' + (spec.name + '_' + spec.id) + '{' + inner + '}');\n      });\n\n      inserted[spec.id] = true;\n    })();\n  }\n}\n\nfunction insertFontFace(spec) {\n  if (!inserted[spec.id]) {\n    styleSheet.insert('@font-face{' + createMarkupForStyles(spec.font) + '}');\n    inserted[spec.id] = true;\n  }\n}\n\n// rehydrate the insertion cache with ids sent from \n// renderStatic / renderStaticOptimized \nexport function rehydrate(ids) {\n  // load up ids\n  Object.assign(inserted, ids.reduce(function (o, i) {\n    return o[i] = true, o;\n  }, {}));\n  // assume css loaded separately\n}\n\n// todo - perf\nvar ruleCache = {};\nfunction toRule(spec) {\n  register(spec);\n  insert(spec);\n  if (ruleCache[spec.id]) {\n    return ruleCache[spec.id];\n  }\n\n  var ret = _defineProperty({}, 'data-css-' + spec.id, hasLabels ? spec.label || '' : '');\n  Object.defineProperty(ret, 'toString', {\n    enumerable: false, value: function value() {\n      return 'css-' + spec.id;\n    }\n  });\n  ruleCache[spec.id] = ret;\n  return ret;\n}\n\n// clears out the cache and empties the stylesheet\n// best for tests, though there might be some value for SSR. \n\nexport function flush() {\n  inserted = styleSheet.inserted = {};\n  registered = styleSheet.registered = {};\n  ruleCache = {};\n  styleSheet.flush();\n  styleSheet.inject();\n}\n\nfunction find(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    if (fn(arr[i]) === true) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function style(obj) {\n  obj = clean(obj);\n\n  return obj ? toRule({\n    id: hashify(obj),\n    type: 'style',\n    style: obj,\n    label: obj.label || '*'\n  }) : {};\n}\n\n// unique feature \n// when you need to define 'real' css (whatever that may be)\n// https://twitter.com/threepointone/status/756585907877273600\n// https://twitter.com/threepointone/status/756986938033254400\nexport function select(selector, obj) {\n  if ((typeof selector === 'undefined' ? 'undefined' : _typeof(selector)) === 'object') {\n    return style(selector);\n  }\n  obj = clean(obj);\n\n  return obj ? toRule({\n    id: hashify(selector, obj),\n    type: 'select',\n    selector: selector,\n    style: obj,\n    label: obj.label || '*'\n  }) : {};\n}\n\nexport var $ = select; // bringin' jquery back\n\nexport function parent(selector, obj) {\n  obj = clean(obj);\n  return obj ? toRule({\n    id: hashify(selector, obj),\n    type: 'parent',\n    selector: selector,\n    style: obj,\n    label: obj.label || '*'\n  }) : {};\n}\n\n// we define a function to 'merge' styles together.\n// backstory - because of a browser quirk, multiple styles are applied in the order they're \n// defined in the stylesheet, not in the order of application \n// in most cases, this won't case an issue UNTIL IT DOES \n// instead, use merge() to merge styles,\n// with latter styles gaining precedence over former ones \n\nexport function merge() {\n  for (var _len4 = arguments.length, rules = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    rules[_key4] = arguments[_key4];\n  }\n\n  rules = clean(rules);\n  return rules ? toRule({\n    id: hashify(extractStyles(rules)),\n    type: 'merge',\n    rules: rules,\n    label: '[' + (typeof rules[0] === 'string' ? rules[0] : rules.map(extractLabel).join(' + ')) + ']'\n  }) : {};\n}\n\nexport var compose = merge;\n\nexport function media(expr) {\n  for (var _len5 = arguments.length, rules = Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    rules[_key5 - 1] = arguments[_key5];\n  }\n\n  rules = clean(rules);\n  return rules ? toRule({\n    id: hashify(expr, extractStyles(rules)),\n    type: 'media',\n    rules: rules,\n    expr: expr,\n    label: '*mq(' + rules.map(extractLabel).join(' + ') + ')'\n  }) : {};\n}\n\nexport var presets = {\n  mobile: '(min-width: 400px)',\n  phablet: '(min-width: 550px)',\n  tablet: '(min-width: 750px)',\n  desktop: '(min-width: 1000px)',\n  hd: '(min-width: 1200px)'\n};\n\n/**** live media query labels ****/\n\n// simplest implementation -\n// cycle through the cache, and for every media query\n// find matching elements and update the label \nfunction updateMediaQueryLabels() {\n  Object.keys(registered).forEach(function (id) {\n    var expr = registered[id].expr;\n\n    if (expr && hasLabels && window.matchMedia) {\n      (function () {\n        var els = document.querySelectorAll('[data-css-' + id + ']');\n        var match = window.matchMedia(expr).matches ? '✓' : '✕';\n        var regex = /^(✓|✕|\\*)mq/;\n        [].concat(_toConsumableArray(els)).forEach(function (el) {\n          return el.setAttribute('data-css-' + id, el.getAttribute('data-css-' + id).replace(regex, match + 'mq'));\n        });\n      })();\n    }\n  });\n}\n\n// saves a reference to the loop we trigger \nvar interval = void 0;\n\nexport function trackMediaQueryLabels() {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var period = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2000;\n\n  if (bool) {\n    if (interval) {\n      console.warn('already tracking labels, call trackMediaQueryLabels(false) to stop'); // eslint-disable-line no-console \n      return;\n    }\n    interval = setInterval(function () {\n      return updateMediaQueryLabels();\n    }, period);\n  } else {\n    clearInterval(interval);\n    interval = null;\n  }\n}\n\n// in dev mode, start this up immediately \nif (isDev && isBrowser) {\n  trackMediaQueryLabels(true);\n  // todo - make sure hot loading isn't broken\n  // todo - clearInterval on browser close  \n}\n\nexport function pseudo(selector, obj) {\n  obj = clean(obj);\n  return obj ? toRule({\n    id: hashify(selector, obj),\n    type: 'pseudo',\n    selector: selector,\n    style: obj,\n    label: obj.label || ':*'\n  }) : {};\n}\n\n// allllll the pseudoclasses\n\nexport function active(x) {\n  return pseudo(':active', x);\n}\n\nexport function any(x) {\n  return pseudo(':any', x);\n}\n\nexport function checked(x) {\n  return pseudo(':checked', x);\n}\n\nexport function disabled(x) {\n  return pseudo(':disabled', x);\n}\n\nexport function empty(x) {\n  return pseudo(':empty', x);\n}\n\nexport function enabled(x) {\n  return pseudo(':enabled', x);\n}\n\nexport function _default(x) {\n  return pseudo(':default', x); // note '_default' name  \n}\n\nexport function first(x) {\n  return pseudo(':first', x);\n}\n\nexport function firstChild(x) {\n  return pseudo(':first-child', x);\n}\n\nexport function firstOfType(x) {\n  return pseudo(':first-of-type', x);\n}\n\nexport function fullscreen(x) {\n  return pseudo(':fullscreen', x);\n}\n\nexport function focus(x) {\n  return pseudo(':focus', x);\n}\n\nexport function hover(x) {\n  return pseudo(':hover', x);\n}\n\nexport function indeterminate(x) {\n  return pseudo(':indeterminate', x);\n}\n\nexport function inRange(x) {\n  return pseudo(':in-range', x);\n}\n\nexport function invalid(x) {\n  return pseudo(':invalid', x);\n}\n\nexport function lastChild(x) {\n  return pseudo(':last-child', x);\n}\n\nexport function lastOfType(x) {\n  return pseudo(':last-of-type', x);\n}\n\nexport function left(x) {\n  return pseudo(':left', x);\n}\n\nexport function link(x) {\n  return pseudo(':link', x);\n}\n\nexport function onlyChild(x) {\n  return pseudo(':only-child', x);\n}\n\nexport function onlyOfType(x) {\n  return pseudo(':only-of-type', x);\n}\n\nexport function optional(x) {\n  return pseudo(':optional', x);\n}\n\nexport function outOfRange(x) {\n  return pseudo(':out-of-range', x);\n}\n\nexport function readOnly(x) {\n  return pseudo(':read-only', x);\n}\n\nexport function readWrite(x) {\n  return pseudo(':read-write', x);\n}\n\nexport function required(x) {\n  return pseudo(':required', x);\n}\n\nexport function right(x) {\n  return pseudo(':right', x);\n}\n\nexport function root(x) {\n  return pseudo(':root', x);\n}\n\nexport function scope(x) {\n  return pseudo(':scope', x);\n}\n\nexport function target(x) {\n  return pseudo(':target', x);\n}\n\nexport function valid(x) {\n  return pseudo(':valid', x);\n}\n\nexport function visited(x) {\n  return pseudo(':visited', x);\n}\n\n// parameterized pseudoclasses\nexport function dir(p, x) {\n  return pseudo(':dir(' + p + ')', x);\n}\nexport function lang(p, x) {\n  return pseudo(':lang(' + p + ')', x);\n}\nexport function not(p, x) {\n  // should this be a plugin?\n  var selector = p.split(',').map(function (x) {\n    return x.trim();\n  }).map(function (x) {\n    return ':not(' + x + ')';\n  });\n  if (selector.length === 1) {\n    return pseudo(':not(' + p + ')', x);\n  }\n  return select(selector.join(''), x);\n}\nexport function nthChild(p, x) {\n  return pseudo(':nth-child(' + p + ')', x);\n}\nexport function nthLastChild(p, x) {\n  return pseudo(':nth-last-child(' + p + ')', x);\n}\nexport function nthLastOfType(p, x) {\n  return pseudo(':nth-last-of-type(' + p + ')', x);\n}\nexport function nthOfType(p, x) {\n  return pseudo(':nth-of-type(' + p + ')', x);\n}\n\n// pseudoelements\nexport function after(x) {\n  return pseudo('::after', x);\n}\nexport function before(x) {\n  return pseudo('::before', x);\n}\nexport function firstLetter(x) {\n  return pseudo('::first-letter', x);\n}\nexport function firstLine(x) {\n  return pseudo('::first-line', x);\n}\nexport function selection(x) {\n  return pseudo('::selection', x);\n}\nexport function backdrop(x) {\n  return pseudo('::backdrop', x);\n}\nexport function placeholder(x) {\n  // https://github.com/threepointone/glamor/issues/14\n  return merge(pseudo('::placeholder', x), pseudo('::-webkit-input-placeholder', x), pseudo('::-moz-placeholder', x), pseudo('::-ms-input-placeholder', x));\n}\n\n// we can add keyframes in a similar manner, but still generating a unique name \n// for including in styles. this gives us modularity, but still a natural api \nexport function keyframes(name, kfs) {\n  if (!kfs) {\n    kfs = name, name = 'animation';\n  }\n\n  // do not ignore empty keyframe definitions for now.\n  kfs = clean(kfs) || {};\n  var spec = {\n    id: hashify(name, kfs),\n    type: 'keyframes',\n    name: name,\n    keyframes: kfs\n  };\n  register(spec);\n  insertKeyframe(spec);\n  return name + '_' + spec.id;\n}\n\n// we don't go all out for fonts as much, giving a simple font loading strategy \n// use a fancier lib if you need moar power\nexport function fontFace(font) {\n  font = clean(font);\n  var spec = {\n    id: hashify(font),\n    type: 'font-face',\n    font: font\n  };\n  register(spec);\n  insertFontFace(spec);\n\n  return font.fontFamily;\n}\n\n/*** helpers for web components ***/\n// https://github.com/threepointone/glamor/issues/16\n\nexport function cssFor() {\n  for (var _len6 = arguments.length, rules = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    rules[_key6] = arguments[_key6];\n  }\n\n  rules = clean(rules);\n  return rules ? flatten(rules.map(function (r) {\n    return registered[idFor(r)];\n  }).map(ruleToCSS)).join('') : '';\n}\n\nexport function attribsFor() {\n  for (var _len7 = arguments.length, rules = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n    rules[_key7] = arguments[_key7];\n  }\n\n  rules = clean(rules);\n  var htmlAttributes = rules ? rules.map(function (rule) {\n    idFor(rule); // throwaway check for rule \n    var key = Object.keys(rule)[0],\n        value = rule[key];\n    return key + '=\"' + (value || '') + '\"';\n  }).join(' ') : '';\n\n  return htmlAttributes;\n}"]},"metadata":{},"sourceType":"module"}